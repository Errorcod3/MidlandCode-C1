.row-wrap{
    flex-flow: row wrap;
}
.flex{
    display: flex;
}


.main-container{
    flex-basis: 70%;
    background-color: lightskyblue;
}
.sub-container{
    flex-basis: 30%;
    background-color: orange;
    flex-flow: column wrap;
}

.sub-main, .sub-aside{
    text-align: center;
    margin: 6px;
    background-color: red;
    height: 150px;
    line-height: 150px;
    color: white;
}

.sub-main{
    flex-basis: calc(25% - 12px);
}

.sub-aside{
    flex-basis: 150px;
}

@media (max-width: 1000px){
    .main-container, .sub-container{
        flex-basis: 100%;
    }
    .sub-container{
        flex-flow: row wrap;
    }
    .sub-main, .sub-aside{
        flex-basis: calc((100% / 3) - 12px);
    }
}

@media (max-width: 600px){
    .sub-main{
        flex-basis: calc(50% - 12px);
    }
}